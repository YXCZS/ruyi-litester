# 📋 RuyiSDK VSCode 插件功能测试报告

> **测试报告** | 功能测试 | 2025-12-04

---

## 📌 目录

- [基本信息](#-基本信息)
- [测试结论概览](#-测试结论概览)
- [详细测试结果](#-详细测试结果)
  - [安装与准备](#0-安装与准备)
  - [Ruyi 包管理器版本管理](#1-ruyi-包管理器版本管理与引导安装)
  - [新闻功能](#2-新闻ruyi-news)
  - [包管理](#3-包管理)
  - [虚拟环境管理](#4-虚拟环境管理)
  - [项目模板解压与编译](#5-解压项目模板与编译)
  - [插件设置](#6-插件设置)

---

## 📊 基本信息

| 项目 | 详情 |
|:----:|:----:|
| **测试报告名称** | RuyiSDK VSCode 插件功能测试报告 |
| **测试时间** | 2025-12-04 |
| **测试环境** | 操作系统：VMware Ubuntu<br>VS Code 版本：1.106.3 |
| **测试版本** | 插件分支：`ff88d84` |
| **测试人员** | 于祥程 |
| **测试类型** | 功能测试 |
| **测试范围** | 安装与准备、Ruyi 包管理器版本管理、新闻功能、包管理、虚拟环境管理、项目模板解压与编译、插件设置 |

---

## ✅ 测试结论概览

### 总体评价

- ✅ **安装及基础功能均可正常使用**，主要功能点通过验证
- ⚠️ **发现 2 个可优化项**（新闻搜索显示/模糊查询），其余均符合预期

### 测试通过率

| 测试项 | 状态 | 备注 |
|:------:|:----:|:----:|
| 安装与准备 | ✅ 通过 | - |
| 包管理器版本管理 | ✅ 通过 | - |
| 新闻功能 | ✅ 通过 | 2 项优化建议 |
| 包管理 | ✅ 通过 | - |
| 虚拟环境管理 | ✅ 通过 | - |
| 项目模板解压与编译 | ✅ 通过 | - |
| 插件设置 | ✅ 通过 | - |

---

## 🔍 详细测试结果

### 0. 安装与准备

#### 测试步骤

1. ✅ 下载并解压 `ruyisdk-vscode-extension-<version>.vsix`
2. ✅ VS Code "Install from VSIX…" 安装并在扩展视图可见
3. ✅ 安装完成、无报错弹窗

#### 测试结果

**状态：** ✅ **通过**

![安装界面](images/1.png)

### 1. Ruyi 包管理器版本管理与引导安装

#### 测试覆盖点

- 🔍 启动 VS Code 时未安装包管理器的引导安装
- 🔄 多版本安装及自由切换
- ⚠️ 异常场景处理（pip 缺失）

#### 测试结果

- 启动 VS Code 时未安装包管理器，出现 "Ruyi not found" 提示并可正常安装-通过

  ![引导安装](images/2.png)

- 补充：未覆盖 pip 缺失场景

  ![pip 缺失提示](images/3.png)

- 支持多版本安装及自由切换-通过

  ![版本切换界面](images/4.png)

### 2. 新闻（Ruyi News）

#### 功能入口
📍 **右下角状态栏**

#### 测试覆盖点
- 📖 打开新闻卡片
- 🔍 搜索关键词
- 👁️ 切换"仅未读"
- 🔄 手动刷新

#### 测试期望
- ✅ 加载正常
- ✅ 搜索过滤准确
- ✅ 刷新后数据更新
- ✅ 无空白或卡死

#### 测试结果

- 状态栏入口加载正常-通过

  ![状态栏入口](images/5.png)

- 卡片内容加载正常-通过

  ![卡片内容](images/9.png)

- 搜索过滤准确-通过

  ![搜索功能](images/6.png)

- 手动刷新后数据更新并有提示-通过

  ![手动刷新](images/7.png)

- 切换"仅未读"正常-通过

  ![仅未读切换](images/8.png)

#### 💡 优化建议

> **以下为可优化项，不影响功能使用**

1. **搜索条件显示**
   - 搜索后页面左上角显示当前搜索条件，便于确认筛选

2. **模糊查询支持**
   - 支持模糊查询，比如输入 `0.47` 时虽然没有 `0.47` 但匹配到全部 `0.4x` 版本

### 3. 包管理

#### 功能入口
📍 **侧栏 "Ruyi" 选项卡**

#### 测试覆盖点
- 🔍 搜索并一键安装
- 📊 查看进度与结果
- ⚠️ 失败提示与重试

#### 测试期望
- ✅ 安装流程可视化
- ✅ 已安装包状态正确展示
- ✅ 有友好提示

#### 测试结果

- 安装流程正常且有提示-通过

  ![安装提示](images/11.png)

  ![安装进度](images/12.png)

  ![安装成功](images/13.png)

- 已安装包状态展示正确-通过

  ![包状态展示](images/10.png)

### 4. 虚拟环境管理

#### 功能入口
📍 **侧栏 "Ruyi" 选项卡**

#### 测试覆盖点
- 🔍 自动检测现有环境
- 🛠️ 图形化创建
  - Toolchain 选择
  - 自动安装提示
  - 多 toolchain 可选
  - 模拟器/名称/路径/sysroot 等参数配置
- 🔄 创建后管理与激活

#### 限制说明
> ⚠️ **当前不支持复杂 profile**

#### 测试期望
- ✅ 创建流程流畅
- ✅ 参数校验清晰
- ✅ 环境可正常激活与切换

#### 测试结果

- 自动检测现有环境正常-通过

  ![环境检测](images/16.png)

- 图形化创建功能正常，可进行toolchain选择、参数填写-通过

  ![创建界面](images/14.png)

- 创建完成后可在侧栏通过点击操作进行激活和切换-通过

  ![激活切换](images/15.png)
### 5. 解压项目模板与编译

#### 功能入口
📍 **Explorer 文件树右键**

#### 测试覆盖点
- 📦 通过包管理器解压模板
- 🔨 结合虚拟环境与 toolchain 进行编译

#### 测试期望
- ✅ 模板解压成功且结构正确
- ✅ 选择虚拟环境后可完成编译并生成产物

#### 测试结果

**状态：** ✅ **通过**

##### 5.1 模板解压

通过 Ruyi 包管理器解压已有项目模板（测试使用 coremark）

![解压操作](images/17.png)

![解压结果](images/18.png)

##### 5.2 项目编译

结合已创建的虚拟环境与所选 toolchain 进行编译

> **测试依据：** 官方文档《Milkv Duo：使用 riscv64-unknown-linux-musl-bin 工具链编译、运行、调试》

**测试步骤：**

1. **环境选择：** milkv duo

   ![环境选择](images/19.png)

2. **下载应用示例：** duo-examples，解压后目录结构

   ![目录结构](images/20.png)

3. **Makefile 配置：** 设置 toolchain 等参数

   > **注意：** 与测试流程中不同，这里需要修改 Makefile，设置 toolchain 等参数

   ![Makefile 配置](images/23.png)

4. **编译结果：** 成功生成产物 `helloworld`

   ![编译成功](images/21.png)

5. **运行测试：** 使用 qemu 模拟器运行 RISC-V64 架构产物并运行成功

   ![QEMU 运行](images/24.png)

   ![运行结果](images/22.png)

### 6. 插件设置

#### 功能入口
📍 **Extensions 页面选择 RuyiSDK 后进入 settings**

#### 测试期望
- ✅ 每个项目可用并如期运行

#### 测试结果

- 运行detect命令时会自动检查 Ruyi 的更新-通过

  ![更新检测1](images/25.png)

  ![更新检测2](images/26.png)

- 自定义 Ruyi 可执行文件的路径，留空则会自动检测-通过

  ![路径设置1](images/27.png)

  ![路径设置2](images/28.png)

  - 通过验证路径是否有效来测试功能

- 勾选后开启遥测收集，未勾选则首次使用时会弹出提示-通过

  ![遥测设置](images/29.png)

---

## 📝 总结

本次测试覆盖了 RuyiSDK VSCode 插件的主要功能模块，所有核心功能均通过验证。插件安装便捷，功能完整，用户体验良好。建议后续优化新闻搜索功能的显示和模糊查询能力。

---

**报告生成时间：** 2025-12-04  
**测试人员：** 于祥程  
**插件版本：** `ff88d84` 
